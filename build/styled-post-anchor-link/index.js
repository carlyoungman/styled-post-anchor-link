(()=>{"use strict";var e,t={784:(e,t,r)=>{const n=window.wp.blocks,o=window.wp.blockEditor,s=window.wp.element,l=window.wp.apiFetch;var i=r.n(l);const a=window.wp.components,c=window.ReactJSXRuntime,d=JSON.parse('{"UU":"styled-post-anchor-link/styled-post-anchor-link"}'),p=(0,c.jsx)("svg",{style:{fill:"#8c6ab9"},xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#8c6ab9",children:(0,c.jsx)("path",{d:"M440-280H280q-83 0-141.5-58.5T80-480q0-83 58.5-141.5T280-680h160v80H280q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h320v80H320Zm200 160v-80h160q50 0 85-35t35-85q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 83-58.5 141.5T680-280H520Z"})});(0,n.registerBlockType)(d.UU,{icon:p,edit:function({attributes:e,setAttributes:t}){const[r,n]=(0,s.useState)(!1),[l,d]=(0,s.useState)(1),[p,h]=(0,s.useState)(1),[v,u]=(0,s.useState)([]),[w,x]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{n(!0);let e=`/wp/v2/posts?per_page=5&page=${p}`;w&&(/^\d+$/.test(w)?e=`/wp/v2/posts/${w}`:e+=`&search=${encodeURIComponent(w)}`);try{const t=await i()({path:e});Array.isArray(t)?(u(t),d(5)):(u([t]),d(1))}catch(e){u([])}finally{n(!1)}})()},[w,p]);const{postTitle:f,postUrl:b}=e;return(0,c.jsxs)("div",{...(0,o.useBlockProps)(),children:[(0,c.jsx)(o.InspectorControls,{children:(0,c.jsxs)(a.PanelBody,{title:"Search for a Post",children:[(0,c.jsx)(a.__experimentalInputControl,{label:"Search",value:w,onChange:e=>{h(1),x(e)},placeholder:"Enter title or ID"}),r&&(0,c.jsx)("p",{children:"Loading..."}),v.map(e=>(0,c.jsx)(a.Button,{isSecondary:!0,onClick:()=>(e=>{t({postId:e.id,postTitle:e.title.rendered,postUrl:e.link})})(e),style:{marginBottom:"4px"},children:e.title.rendered},e.id)),l>1&&(0,c.jsxs)("div",{style:{marginTop:"8px"},children:[(0,c.jsx)(a.Button,{isSmall:!0,disabled:p<=1,onClick:()=>h(e=>e-1),children:"← Prev"}),(0,c.jsx)(a.Button,{isSmall:!0,disabled:p>=l,onClick:()=>h(e=>e+1),style:{marginLeft:"4px"},children:"Next →"})]})]})}),b&&f?(0,c.jsxs)("p",{className:"dmg-read-more",children:["Read More:"," ",(0,c.jsx)("a",{href:b,target:"_blank",rel:"noreferrer",children:f})]}):(0,c.jsx)("p",{children:"Select a post to create a Read More link."})]})},save:()=>null})}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var s=r[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.m=t,e=[],n.O=(t,r,o,s)=>{if(!r){var l=1/0;for(d=0;d<e.length;d++){for(var[r,o,s]=e[d],i=!0,a=0;a<r.length;a++)(!1&s||l>=s)&&Object.keys(n.O).every(e=>n.O[e](r[a]))?r.splice(a--,1):(i=!1,s<l&&(l=s));if(i){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[r,o,s]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={279:0,231:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,s,[l,i,a]=r,c=0;if(l.some(t=>0!==e[t])){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(a)var d=a(n)}for(t&&t(r);c<l.length;c++)s=l[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(d)},r=globalThis.webpackChunkstyled_post_anchor_link=globalThis.webpackChunkstyled_post_anchor_link||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var o=n.O(void 0,[231],()=>n(784));o=n.O(o)})();